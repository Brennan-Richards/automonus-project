{% extends "charts/base.html" %}


{% block page_content %}


{% if request.user.profile.has_income %}
<div class="row text-center">
  <div class="col">
    <h2 class="m-5"><i class="fas fa-wallet"></i> Income Dashboard</h2>
  </div>
</div>
<nav class="col-md-2 d-none d-md-block bg-light sidebar card">
  <div class="sidebar-sticky">
    <ul class="nav flex-column">
      <li class="nav-item dropdown">
        <a class="nav-link active" href="{% url 'master_dashboard' %}">
          <i class="fas fa-brain"></i>
          Master
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'income_dashboard' %}">
          <i class="fas fa-wallet"></i>
          Income <span class="sr-only">(current)</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'expenditures_dashboard' %}">
          <i class="fas fa-dollar-sign"></i>
          Expenditures
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'liabilities_dashboard' %}">
          <i class="fas fa-file-invoice-dollar"></i>
          Liabilities
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'investments_dashboard' %}">
          <i class="fas fa-hand-holding-usd"></i>
          Investments
        </a>
      </li>
    </ul>

    <!-- <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
      <span>Saved reports</span>
      <a class="d-flex align-items-center text-muted" href="#">
        <span data-feather="plus-circle"></span>
      </a>
    </h6>
    <ul class="nav flex-column mb-2">
      <li class="nav-item">
        <a class="nav-link" href="#">
          <span data-feather="file-text"></span>
          Current month
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">
          <span data-feather="file-text"></span>
          Last quarter
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">
          <span data-feather="file-text"></span>
          Social engagement
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">
          <span data-feather="file-text"></span>
          Year-end sale
        </a>
      </li>
    </ul> -->
  </div>
</nav>
<div class="col-md-8">
      <div class="text-center">
        <div class="card shadow p-4 mb-4">
          <h3>Incoming Transactions</h3>
          <small>Transactions of negative (-) value are incoming.</small>
          <div class="table-responsive table-striped p-4">
              <table id="table" class="table table-bordered">
                  <thead>
                      <tr>
                          <th>Date</th>
                          <th>Transaction</th>
                          <th>Amount</th>
                      </tr>
                  </thead>
                  <tbody>
                      {% for transaction in transactions %}
                          <tr>
                              <td data-sort="YYYYMMDD">
                                  {{ transaction.date|date:"m/d/Y" }}
                              </td>
                              <td>
                                  {{ transaction.name }}
                              </td>
                              <td>
                                  ${{ transaction.amount }}
                              </td>
                          </tr>
                      {% endfor %}
                  </tbody>
              </table>
          </div>
      </div>
  </div>

  <div class="row text-center">
      <div class="col">
        <div class="card shadow p-4">
          <div id="charts_container" class="mt-3"></div>
        </div>
      </div>
  </div>

</div>

{% else %}
<br>
  <div class="row">
    <div class="col-lg-12 text-center">
      <p>You have not yet added an institution which is is compatible with our <strong>income</strong> product.</p>
      <a class="btn btn-primary" href="{% url 'link_institution' %}">
          Connect A Financial Institution
      </a>
    </div>
  </div>
{% endif %}
{% endblock page_content %}
